<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://perevillega.com name=base><title>Software serves the Business • Emacs and Scala in Mac OS X Yosemite</title><link href=https://perevillega.com/icons/favicon.ico rel=icon type=image/png><link title="Software serves the Business - Atom Feed" href=https://perevillega.com/atom.xml rel=alternate type=application/atom+xml><link href="https://perevillega.com/inter_subset_en.css?h=d8cf4ad058d6c3a4015b" rel=stylesheet><link href="https://perevillega.com/main.css?h=149ff9e737409b86f9c3" rel=stylesheet><meta content="light dark" name=color-scheme><meta content=#087e96 name=theme-color><meta content="After hearing a lot about the benefits of using Emacs to code in Scala, I’ve decided to give it a go and also to document the steps to work with it, in case anyone else feels crazy enough to try this.
…" name=description><meta content="After hearing a lot about the benefits of using Emacs to code in Scala, I’ve decided to give it a go and also to document the steps to work with it, in case anyone else feels crazy enough to try this.
…" property=og:description><meta content="index, nofollow" name=robots><meta content="Emacs and Scala in Mac OS X Yosemite" property=og:title><meta content=article property=og:type><meta content="https://perevillega.com/social_cards/index.png?h=125d02cc3c86eaf88fa6" property=og:image><meta content=2088 property=og:image:width><meta content=1000 property=og:image:height><meta content="https://perevillega.com/social_cards/index.png?h=125d02cc3c86eaf88fa6" name=twitter:image><meta content=summary_large_image name=twitter:card><meta content=en_GB property=og:locale><meta content=https://perevillega.com/posts/emacs-and-scala-in-mac-os-x-yosemite/ property=og:url><meta content="Software serves the Business" property=og:site_name><meta content="default-src 'self';font-src 'self' data: 'self';img-src 'self' https://* data:;media-src 'self' https://cdn.jsdelivr.net/;style-src 'self' 'unsafe-inline';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self' https://umami.villegawilcz.com;script-src 'self' https://umami.villegawilcz.com 'self'" http-equiv=Content-Security-Policy><noscript><link href=https://perevillega.com/no_js.css rel=stylesheet></noscript><script src=https://perevillega.com/js/initializeTheme.min.js></script><script defer src=https://perevillega.com/js/themeSwitcher.min.js></script><script async data-do-not-track=true data-website-id=7bdfa858-bebc-479d-9a1f-bea833a709a8 defer src=https://umami.villegawilcz.com/script.js></script><meta content=@pvillega@mastodon.social name=fediverse:creator><script src="https://perevillega.com/search_index.en.js?h=791a6da9678059241bea" defer></script><script src="https://perevillega.com/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://perevillega.com>Software serves the Business</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://perevillega.com/posts/> blog </a><li><a class="nav-links no-hover-padding" href=https://perevillega.com/tags/> tags </a></li><div class=nav-navs id=menu-icons-group><li class=js><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></div></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Emacs and Scala in Mac OS X Yosemite</h1><ul class=meta><li>20th Sep 2015<li title="854 words"><span aria-hidden=true class=separator>•</span>5 min read<li class=tag><span aria-hidden=true class=separator>•</span>Tags: <li class=tag><a href=https://perevillega.com/tags/scala/>scala</a>, <li class=tag><a href=https://perevillega.com/tags/emacs/>emacs</a>, <li class=tag><a href=https://perevillega.com/tags/macos/>macos</a></ul><section class=body><p>After hearing a lot about the benefits of using Emacs to code in Scala, I’ve decided to give it a go and also to document the steps to work with it, in case anyone else feels crazy enough to try this.</p><span id=continue-reading></span><h2 id=why><a aria-label="Anchor link for: why" class="header-anchor no-hover-padding" href=#why><span aria-hidden=true class=link-icon></span></a> Why?</h2><p>I guess first I should explain why would I use Emacs when there are products like <a href=https://www.jetbrains.com/idea/?fromMenu rel=noopener target=_blank>IntelliJ IDEA</a> which provide a lot of functionality and are easy (easier?) to use. This is a personal decision, but some reasons I’ve found to try Emacs are:<ul><li><p>IDEA sometimes shows misleading errors with Scalaz. Add some EitherT or similar to your code and suddenly correct code that is built by Sbt with no complains is flagged red by IDEA. This is because they use their own compiler, and although it seems a minor issue it can become annoying (is this IDEA acting or did I break it?) and fixing it requires adding explicit type annotations to your code, which means more verbosity and less readable code.</p><li><p>Resource efficiency. This last summer, due to me changing jobs, I had to bring back to life my 7 year old desktop with its non-ssd hard drive and only 4 Gb of ram. Trying to code in it was extremely annoying. I had only IDEA, a browser and a terminal open, but it felt clunky and focussing was hard due to constant system slowdowns. Replacing IDEA by a simple text editor helped a lot, but there was a lack of syntax highlighting and other tooling I was used to. I don’t know if/when I may find myself in a similar situation again, so being comfortable with a leaner IDE has become relevant.</p><li><p><a href=http://www.nhs.uk/conditions/Repetitive-strain-injury/Pages/Introduction.aspx rel=noopener target=_blank>RSI</a>. Luckily I’m not suffering from it but I’m a frequent customer of physiotherapy due to heavy mouse use harming my shoulders. I’ve been told repeatedly that Emacs is a great environment to reduce these muscular issues, better than IDEA, so it’s worth the effort.</p><li><p>I don’t mind the new <a href=https://www.jetbrains.com/company/press/pr_030915.html rel=noopener target=_blank>payment policy</a> of Jetbrains; I’ve been paying for my license for years and renewing for each new version, so it would make no difference to me. But the change highlights the dangers of being tied to a proprietary tool and unexpected changes to them. If we believe in the software craftsmanship movement and we care about our tools, we need full control on them.</p><li><p>Let’s be honest, knowing Emacs sounds cool. I may fail on the task and realise I’m not the nerd I expected to be, but it’s worth the test ;)</p></ul><h2 id=environment><a aria-label="Anchor link for: environment" class="header-anchor no-hover-padding" href=#environment><span aria-hidden=true class=link-icon></span></a> Environment</h2><p>I’m going to install Emacs in a MacBook Pro with Yosemite.<p>There are several Emacs packages you can choose from, the one I’ve been recommended is <a href=https://github.com/syl20bnr/spacemacs rel=noopener target=_blank>Scapemacs</a> so I’ll be trying this one.<p>For Scala goodness I’ll use <a href=https://github.com/ensime rel=noopener target=_blank>Ensime</a> and its Emacs plugin.<p>I won’t research any other plugins by now, geting used to Emacs is enough.<h2 id=installing-spacemacs><a aria-label="Anchor link for: installing-spacemacs" class="header-anchor no-hover-padding" href=#installing-spacemacs><span aria-hidden=true class=link-icon></span></a> Installing Spacemacs</h2><p>Spacemacs is a bundle of configuration and plugins for Emacs, as a consequence before starting you will need Emacs installed. As of today Spacemacs recommends to use the <code>emacs-mac-port</code> package, available in Homebrew:<pre class=z-code><code><span class="z-text z-plain">	$ brew tap railwaycat/emacsmacport
</span><span class="z-text z-plain">	$ brew install emacs-mac --with-spacemacs-icon
</span></code></pre><p>After that, it is recommended to backup your current Emacs config:<pre class=z-code><code><span class="z-text z-plain">	cd ~
</span><span class="z-text z-plain">	mv .emacs.d .emacs.bak
</span></code></pre><p>To install Spacemacs, just clone the repo along its submodules to <code>~/.emacs.d</code>:<pre class=z-code><code><span class="z-text z-plain">	git clone --recursive https://github.com/syl20bnr/spacemacs ~/.emacs.d
</span></code></pre><p>Once done, launch Emacs and wait for the set up to be done:<pre class=z-code><code><span class="z-text z-plain">	$ emacs
</span></code></pre><h2 id=scala-and-emacs><a aria-label="Anchor link for: scala-and-emacs" class="header-anchor no-hover-padding" href=#scala-and-emacs><span aria-hidden=true class=link-icon></span></a> Scala and Emacs</h2><p>Spacemacs provides integration with <a href=https://github.com/ensime rel=noopener target=_blank>Ensime</a> via <a href=https://github.com/syl20bnr/spacemacs/tree/master/contrib/!lang/scala rel=noopener target=_blank>this package</a>. It works as a layer, to install it just edit your <code>~/.spacemacs</code> file and find <code>dotspacemacs-configuration-layers</code> near the top of the file. Add <code>scala</code> as a new layer:<pre class=z-code><code><span class="z-text z-plain">	dotspacemacs-configuration-layers
</span><span class="z-text z-plain">	   '(
</span><span class="z-text z-plain">	     ;; ----------------------------------------------------------------
</span><span class="z-text z-plain">	     ;; Example of useful layers you may want to use right away.
</span><span class="z-text z-plain">	     ;; Uncomment some layer names and press &LTSPC f e R> (Vim style) or
</span><span class="z-text z-plain">	     ;; &LTM-m f e R> (Emacs style) to install them.
</span><span class="z-text z-plain">	     ;; ----------------------------------------------------------------
</span><span class="z-text z-plain">	     ;; auto-completion
</span><span class="z-text z-plain">	     ;; better-defaults
</span><span class="z-text z-plain">	     emacs-lisp
</span><span class="z-text z-plain">	     ;; git
</span><span class="z-text z-plain">	     ;; markdown
</span><span class="z-text z-plain">	     ;; org
</span><span class="z-text z-plain">	     ;; (shell :variables
</span><span class="z-text z-plain">	     ;;        shell-default-height 30
</span><span class="z-text z-plain">	     ;;        shell-default-position 'bottom)
</span><span class="z-text z-plain">	     ;; syntax-checking
</span><span class="z-text z-plain">	     version-control
</span><span class="z-text z-plain">	     scala
</span><span class="z-text z-plain">	     )
</span></code></pre><p>Then restart Emacs. Next create a global <code>plugins.sbt</code> at <code>~/.sbt/0.13/plugins/plugin.sbt</code> and add to it:<pre class=z-code><code><span class="z-text z-plain">	resolvers += Resolver.sonatypeRepo("snapshots")
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">	addSbtPlugin("org.ensime" % "ensime-sbt" % "0.1.5-SNAPSHOT")
</span></code></pre><p>Run sbt once in some of your projects to download the dependency.<p>To work with a Scala project you will need to create a <code>.ensime</code> file by running<pre class=z-code><code><span class="z-text z-plain">	sbt gen-ensime
</span></code></pre><p>At the root. To load Ensime, type <code>SPC : ensime</code> and wait until the environment is configured, which may take a while the first time.<h2 id=learning-spacemacs><a aria-label="Anchor link for: learning-spacemacs" class="header-anchor no-hover-padding" href=#learning-spacemacs><span aria-hidden=true class=link-icon></span></a> Learning Spacemacs</h2><p>After Emacs loads all the configuration you are welcomed by… an ugly yellow screen. Ugh. Yes, it will take a while to get used to this, no one said it would be easy ;) There are two resources I’m using to get started:<ul><li><a href=http://sachachua.com/blog/wp-content/uploads/2013/05/How-to-Learn-Emacs-v2-Large.png rel=noopener target=_blank>How to Learn Emacs</a><li><a href=https://github.com/syl20bnr/spacemacs#learning-spacemacs rel=noopener target=_blank>Learning Spacemacs</a></ul><p>I started with the Evil-adapted Vimtutor to get familiar with the key bindings. Press <code>SPC h T</code> to launch it.<h2 id=first-day-feelings><a aria-label="Anchor link for: first-day-feelings" class="header-anchor no-hover-padding" href=#first-day-feelings><span aria-hidden=true class=link-icon></span></a> First day feelings</h2><p>This is hard. I’m ashamed to acknowledge how long did it take me to open a file in Emacs, much less to compile it via Sbt.<p>I can see the benefits of learning Emacs and not having to use the mouse much, but it will take effort to get used to this and to get the ‘right’ environment setup working.</section><nav class="full-width article-navigation"><div><a aria-describedby=left_title aria-label=Next href=https://perevillega.com/posts/scala-exchange-2015-day-one/><span class=arrow>←</span> Next</a><p aria-hidden=true id=left_title>Scala Exchange 2015 Day One</div><div><a aria-describedby=right_title aria-label=Prev href=https://perevillega.com/posts/scala-repl/>Prev <span class=arrow>→</span></a><p aria-hidden=true id=right_title>Scala REPL</div></nav></article></main><script defer src=https://perevillega.com/js/mermaid.min.js></script><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://perevillega.com/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://perevillega.com/atom.xml rel=noopener target=_blank> <img alt=feed loading=lazy src=https://perevillega.com/social_icons/rss.svg title=feed> </a><li class=js><a class="nav-links no-hover-padding social" data-encoded-email=cHZpbGxlZ2ErYmxvZ0BhcmFjb24uY29t href=#><img alt=email loading=lazy src=https://perevillega.com/social_icons/email.svg title=email> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://github.com/pvillega target=_blank> <img alt=github loading=lazy src=https://perevillega.com/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://gitlab.com/pvillega target=_blank> <img alt=gitlab loading=lazy src=https://perevillega.com/social_icons/gitlab.svg title=gitlab> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://bsky.app/profile/perevillega.com target=_blank> <img alt=bluesky loading=lazy src=https://perevillega.com/social_icons/bluesky.svg title=bluesky> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://www.linkedin.com/in/perevillega/ target=_blank> <img alt=linkedin loading=lazy src=https://perevillega.com/social_icons/linkedin.svg title=linkedin> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://stackoverflow.com/users/116791/pere-villega target=_blank> <img alt="stack overflow" title="stack overflow" loading=lazy src=https://perevillega.com/social_icons/stack-overflow.svg> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://perevillega.com/sitemap.xml> sitemap </a></ul> </small></nav><div class=credits><small> Powered by <a href=https://www.getzola.org rel=noopener target=_blank>Zola</a> & <a href=https://github.com/welpo/tabi rel=noopener target=_blank>tabi</a> </small></div></section><script async src=https://perevillega.com/js/decodeMail.min.js></script><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer>