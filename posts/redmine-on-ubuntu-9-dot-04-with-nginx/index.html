<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://perevillega.com name=base><title>Software serves the Business • Redmine on Ubuntu 9.04 with NGinx</title><link href=https://perevillega.com/icons/favicon.ico rel=icon type=image/png><link title="Software serves the Business - Atom Feed" href=https://perevillega.com/atom.xml rel=alternate type=application/atom+xml><link href="https://perevillega.com/inter_subset_en.css?h=d8cf4ad058d6c3a4015b" rel=stylesheet><link href="https://perevillega.com/main.css?h=149ff9e737409b86f9c3" rel=stylesheet><meta content="light dark" name=color-scheme><meta content=#087e96 name=theme-color><meta content="Originally I wanted to install Launchpad on my server to manage my projects. As of 17th of August of 2009, Launchpad is not yet ready for production. The only way to install it is using an script, only available for Ubuntu 9.04, which doesn’t work too well on a server. I’ll keep an eye on it as I like the way Canonical does things (and applications), but in the meantime I decided to use Redmine as I found Trac lacking on some areas.
…" name=description><meta content="Originally I wanted to install Launchpad on my server to manage my projects. As of 17th of August of 2009, Launchpad is not yet ready for production. The only way to install it is using an script, only available for Ubuntu 9.04, which doesn’t work too well on a server. I’ll keep an eye on it as I like the way Canonical does things (and applications), but in the meantime I decided to use Redmine as I found Trac lacking on some areas.
…" property=og:description><meta content="index, nofollow" name=robots><meta content="Redmine on Ubuntu 9.04 with NGinx" property=og:title><meta content=article property=og:type><meta content="https://perevillega.com/social_cards/index.png?h=125d02cc3c86eaf88fa6" property=og:image><meta content=2088 property=og:image:width><meta content=1000 property=og:image:height><meta content="https://perevillega.com/social_cards/index.png?h=125d02cc3c86eaf88fa6" name=twitter:image><meta content=summary_large_image name=twitter:card><meta content=en_GB property=og:locale><meta content=https://perevillega.com/posts/redmine-on-ubuntu-9-dot-04-with-nginx/ property=og:url><meta content="Software serves the Business" property=og:site_name><meta content="default-src 'self';font-src 'self' data: 'self';img-src 'self' https://* data:;media-src 'self' https://cdn.jsdelivr.net/;style-src 'self' 'unsafe-inline';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self' https://umami.villegawilcz.com;script-src 'self' https://umami.villegawilcz.com 'self'" http-equiv=Content-Security-Policy><noscript><link href=https://perevillega.com/no_js.css rel=stylesheet></noscript><script src=https://perevillega.com/js/initializeTheme.min.js></script><script defer src=https://perevillega.com/js/themeSwitcher.min.js></script><script async data-do-not-track=true data-website-id=7bdfa858-bebc-479d-9a1f-bea833a709a8 defer src=https://umami.villegawilcz.com/script.js></script><meta content=@pvillega@mastodon.social name=fediverse:creator><script src="https://perevillega.com/search_index.en.js?h=791a6da9678059241bea" defer></script><script src="https://perevillega.com/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://perevillega.com>Software serves the Business</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://perevillega.com/posts/> blog </a><li><a class="nav-links no-hover-padding" href=https://perevillega.com/tags/> tags </a></li><div class=nav-navs id=menu-icons-group><li class=js><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></div></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Redmine on Ubuntu 9.04 with NGinx</h1><ul class=meta><li>17th Aug 2009<li title="1303 words"><span aria-hidden=true class=separator>•</span>7 min read<li class=tag><span aria-hidden=true class=separator>•</span>Tags: <li class=tag><a href=https://perevillega.com/tags/devops/>devops</a>, <li class=tag><a href=https://perevillega.com/tags/redmine/>redmine</a>, <li class=tag><a href=https://perevillega.com/tags/nginx/>nginx</a>, <li class=tag><a href=https://perevillega.com/tags/ubuntu/>ubuntu</a></ul><section class=body><p>Originally I wanted to install Launchpad on my server to manage my projects. As of 17th of August of 2009, Launchpad is not yet ready for production. The only way to install it is using an script, only available for Ubuntu 9.04, which doesn’t work too well on a server. I’ll keep an eye on it as I like the way Canonical does things (and applications), but in the meantime I decided to use <a href=http://www.redmine.org/ rel=noopener target=_blank>Redmine</a> as I found Trac lacking on some areas.</p><span id=continue-reading></span><h2 id=redmine><a aria-label="Anchor link for: redmine" class="header-anchor no-hover-padding" href=#redmine><span aria-hidden=true class=link-icon></span></a> Redmine</h2><p>Redmine is an open source, web-based project management and bug-tracking tool, written in Ruby on Rails and heavily influenced by Trac. It improves on several areas, like providing multiple project support, integrating with several source control systems (from popular SVN to less popular Bazaar or Darcs) and allowing extension of its functionalities through plugins. This guide describes how to install Redmine in an Ubuntu 9.04 server using Mongrel as web server, Nginx as proxy and MySQL as database. To achieve this we have to follow 3 steps:<ul><li>install ruby and rails and MySQL<li>install Redmine<li>install Mongrel and Nginx</ul><p>This guide can be adapted to older versions of Ubuntu and most Linux distributions, just replacing the tools/packages by the specific ones available in that distribution. The guide is a quick overview of the main steps, for more information on configuration options check the documentation of the corresponding tool.<h2 id=install-ruby-and-rails-and-mysql><a aria-label="Anchor link for: install-ruby-and-rails-and-mysql" class="header-anchor no-hover-padding" href=#install-ruby-and-rails-and-mysql><span aria-hidden=true class=link-icon></span></a> Install Ruby and Rails and MySQL</h2><p>To install the components first ensure the system is up to date:<pre class=z-code><code><span class="z-text z-plain">    sudo apt-get update
</span><span class="z-text z-plain">    sudo apt-get dist-upgrade
</span></code></pre><p>Then run the following command:<pre class=z-code><code><span class="z-text z-plain">    sudo apt-get install build-essential ruby ri rdoc mysql-server libmysql-ruby ruby1.8-dev irb1.8 libdbd-mysql-perl libdbi-perl
</span><span class="z-text z-plain">          libmysql-ruby1.8 libmysqlclient15off libnet-daemon-perl libplrpc-perl libreadline-ruby1.8 libruby1.8 rdoc1.8 ri1.8 ruby1.8
</span><span class="z-text z-plain">          irb libopenssl-ruby libopenssl-ruby1.8 libhtml-template-perl mysql-client-5.0 mysql-common mysql-server-5.0 mysql-server-core-5.0
</span></code></pre><p>Now that we have Ruby installed, we use Gems to install Rails:<pre class=z-code><code><span class="z-text z-plain">    sudo gem update
</span><span class="z-text z-plain">    sudo gem install rails --no-rdoc –no-ri
</span></code></pre><p>The flags –no-rdoc and –no-ri are included to reduce the RAM footprint of the component, feel free to remove them if your machine has more than enough RAM. To finish this part, open the MySQL client and create the Redmine database:<pre class=z-code><code><span class="z-text z-plain">    create database redmine character set utf8;
</span></code></pre><h2 id=install-redmine><a aria-label="Anchor link for: install-redmine" class="header-anchor no-hover-padding" href=#install-redmine><span aria-hidden=true class=link-icon></span></a> Install Redmine</h2><p>Get the code from the <a href=http://www.redmine.org/projects/redmine/wiki/Download rel=noopener target=_blank>download</a> page. Although the stable release is recommended, if you are going to use Bazaar the svn contains some fixes you want to use, so do an export from the trunk and use that. (Note: if you use the trunk, you’ll have to install a newer Rails using Gems due to version requirements). Select a folder in your server (from now on, APP) and copy the downloaded code there. Move to the APP folder and run:<pre class=z-code><code><span class="z-text z-plain">    sudo cp config/database.yml.example config/database.yml
</span><span class="z-text z-plain">    sudo cp config/email.yml.example config/email.yml
</span></code></pre><p>Edit the new yml files and change the configuration as required (MySQL details, mail server, etc). Now run these commands to create the database and populate it:<pre class=z-code><code><span class="z-text z-plain">    rake db:migrate RAILS_ENV="production"
</span><span class="z-text z-plain">    rake redmine:load_default_data RAILS_ENV="production"
</span></code></pre><p>We also need ImageMagick (although is optional):<pre class=z-code><code><span class="z-text z-plain">    sudo apt-get install imagemagick libmagickwand-dev
</span><span class="z-text z-plain">    sudo gem install rmagick
</span></code></pre><h2 id=install-mongrel-and-nginx><a aria-label="Anchor link for: install-mongrel-and-nginx" class="header-anchor no-hover-padding" href=#install-mongrel-and-nginx><span aria-hidden=true class=link-icon></span></a> Install Mongrel and Nginx</h2><p>To run Redmine we will use a standard setup for Rails applications, consistent on Mongrel as web server and Nginx as proxy that interacts with the network. We will run Mongrel as Mongrel Cluster, to improve the performance as Mongrel is single threaded and we will need multiple instances to server multiple clients. First we need to install Mongrel and Mongrel Cluster:<pre class=z-code><code><span class="z-text z-plain">    sudo gem install mongrel
</span><span class="z-text z-plain">    sudo gem install mongrel_cluster
</span></code></pre><p>Now move to APP folder and run:<pre class=z-code><code><span class="z-text z-plain">    mongrel_rails cluster::configure -e production -p 8000 -N 2 -c APP -a 127.0.0.1
</span></code></pre><p>The flag -p indicates the initial port to use by Mongrel. Flag -N tells how many instances you want running in the cluster. Flag -a shows the bind address of the cluster. Once created, we need to set it up so it starts automatically with the server:<pre class=z-code><code><span class="z-text z-plain">    sudo mkdir /etc/mongrel_cluster
</span><span class="z-text z-plain">    sudo ln -s APP/config/mongrel_cluster.yml /etc/mongrel_cluster/your-app-name.yml
</span><span class="z-text z-plain">    sudo cp /var/lib/gems/1.8/gems/mongrel_cluster-1.0.5/resources/mongrel_cluster /etc/init.d/
</span><span class="z-text z-plain">    sudo chmod +x /etc/init.d/mongrel_cluster
</span><span class="z-text z-plain">    sudo /usr/sbin/update-rc.d mongrel_cluster defaults
</span></code></pre><p>Now you can control the cluster with the commands:<pre class=z-code><code><span class="z-text z-plain">    mongrel_cluster_ctl start
</span><span class="z-text z-plain">    mongrel_cluster_ctl stop
</span><span class="z-text z-plain">    mongrel_cluster_ctl restart
</span></code></pre><p>Now install nginx (if you don’t have it):<pre class=z-code><code><span class="z-text z-plain">    sudo apt-get install nginx
</span></code></pre><p>We need to create a virtual host for Nginx, that will receive the requests and forward them to Redmine. Assuming your public domain will be “domain.com”:<pre class=z-code><code><span class="z-text z-plain">    sudo nano /usr/local/nginx/sites-available/domain.com
</span></code></pre><p>And copy inside:<pre class=z-code><code><span class="z-text z-plain">    upstream domain1 {
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     server 127.0.0.1:5000;
</span><span class="z-text z-plain">     server 127.0.0.1:5001;
</span><span class="z-text z-plain">     server 127.0.0.1:5002;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    }
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    server {
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     listen   80;
</span><span class="z-text z-plain">     server_name  www.domain.com;
</span><span class="z-text z-plain">     rewrite ^/(.*) http://domain.com/$1 permanent;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    }
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    server {
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     listen   80;
</span><span class="z-text z-plain">     server_name domain.com;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     access_log /home/demo/public_html/railsapp/log/access.log;
</span><span class="z-text z-plain">     error_log /home/demo/public_html/railsapp/log/error.log;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     root   /home/demo/public_html/railsapp/public/;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     index  index.html;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     location / {
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">          proxy_set_header  X-Real-IP  $remote_addr;
</span><span class="z-text z-plain">          proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
</span><span class="z-text z-plain">          proxy_set_header Host $http_host;
</span><span class="z-text z-plain">          proxy_redirect false;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">          if (-f $request_filename/index.html) {
</span><span class="z-text z-plain">            rewrite (.*) $1/index.html break;
</span><span class="z-text z-plain">          }
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">          if (-f $request_filename.html) {
</span><span class="z-text z-plain">            rewrite (.*) $1.html break;
</span><span class="z-text z-plain">          }
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">          if (!-f $request_filename) {
</span><span class="z-text z-plain">            proxy_pass http://domain1;
</span><span class="z-text z-plain">            break;
</span><span class="z-text z-plain">          }
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     }
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    }
</span></code></pre><p>Be careful to change the port numbers and domain name to the ones you’ll use on your server. Now enable the site:<pre class=z-code><code><span class="z-text z-plain">    sudo ln -s /usr/local/nginx/sites-available/domain.com /usr/local/nginx/sites-enabled/domain.com
</span></code></pre><p>and once you restart Nginx your Redmine installation is ready to go. Configure Bazaar First we need to edit the file config/environment.rb to add new environment variables related to Python, to avoid problems while accessing Bazaar:<pre class=z-code><code><span class="z-text z-plain">    ENV['PYTHONPATH'] = '/usr/lib/python2.6'
</span><span class="z-text z-plain">    ENV['PATH'] = "#{ENV['PATH']}:/usr/bin"
</span></code></pre><p>When you create a project you just need to point Redmine to your Bazaar main folder, this will allow you to browse the repository. Be aware it still has some limitations when displaying contents, but it works quite well. To work with Bazaar, let’s set up a repository on our server. This will be a dumb repository, it means is nothing more than a folder that can be accessed via sftp that stores the data of the repository. First of all, in Ubuntu 9.04 (our server) let’s install the needed tools (sftp) and enable them as accepted shell:<pre class=z-code><code><span class="z-text z-plain">    $apt-get install ssh openssh-server
</span><span class="z-text z-plain">    $echo '/usr/lib/sftp-server' >> /etc/shells
</span></code></pre><p>Then create a user to connect via sftp to the server:<pre class=z-code><code><span class="z-text z-plain">    $sudo useradd --create-home --home-dir /home/bzr --shell /usr/lib/sftp-server bzr
</span></code></pre><p>And that’s it, we have a folder (/home/bzr/) ready to receive our Bazaar projects. Is a good practice to give write rights to that folder to members of group “bzr”, and to add a password to the ‘bzr’ user. On your client machine, install Bazaar (using apt-get or similar). Then download the Uploader plugin which eases the task to commit changes to “dumb servers”:<pre class=z-code><code><span class="z-text z-plain">    $ mkdir /home/pvillega/.bazaar/plugins
</span><span class="z-text z-plain">    $ bzr co lp:bzr-upload ~/.bazaar/plugins/upload
</span></code></pre><p>or if you use Ubuntu/Debian with:<pre class=z-code><code><span class="z-text z-plain">    $sudo apt-get install bzr-upload
</span></code></pre><p>Then create the base repository. There are two ways of doing this, you can create a shared repository which stores every child branch revision, or you can create standalone repositories, which are good if you don’t want to share revision information with other branches. Here we create a shared repository:<pre class=z-code><code><span class="z-text z-plain">    bzr init-repository some_directory
</span><span class="z-text z-plain">    bzr init some_directory/trunk
</span><span class="z-text z-plain">    bzr init some_directory/branches
</span></code></pre><p>Now, to interact with the server we created before, first run:<pre class=z-code><code><span class="z-text z-plain">    bzr push --create-prefix sftp://bzr@server:port/~/test
</span></code></pre><p>This pushes the project to the server and creates the folder ‘test’ if needed. After that, all the interaction with the server can be (usually) reduced to:<pre class=z-code><code><span class="z-text z-plain">     bzr pull sftp://bzr@server:port/~/test   #update changes from the server to our client
</span><span class="z-text z-plain">     bzr co sftp://bzr@server:port/~/test      #checkout the project
</span><span class="z-text z-plain">     bzr push sftp://bzr@server:port/~/test  #push changes to the server
</span></code></pre><p>Ok, is not the nicest way to do that, but remember this is a distributed repository, you won’t update or push changes too often, usually only when you are done with a piece of work. There’s an alternative method, using what is called a “smart server”, which is faster than the previous way (but not always possible to use for several reasons). In this case we will use an ssh connection to communicate with the repository, but this requires that our user belongs to the group “bzr” to be able to write in that folder. The command for the first commit is:<pre class=z-code><code><span class="z-text z-plain">    bzr push --create-prefix bzr+ssh://server:port/home/bzr/test #requires full path, from root
</span></code></pre><p>In a similar way we interact with the server using:<pre class=z-code><code><span class="z-text z-plain">     bzr pull bzr+ssh://bzr@server:port/~/test   #update changes from the server to our client
</span><span class="z-text z-plain">     bzr co bzr+ssh://bzr@server:port/~/test      #checkout the project
</span><span class="z-text z-plain">     bzr push bzr+ssh://bzr@server:port/~/test  #push changes to the server
</span></code></pre><h2 id=install-redmine-themes><a aria-label="Anchor link for: install-redmine-themes" class="header-anchor no-hover-padding" href=#install-redmine-themes><span aria-hidden=true class=link-icon></span></a> Install Redmine Themes</h2><p>You can install some new themes for Redmine, available <a href=http://www.redmine.org/projects/redmine/wiki/Theme_List rel=noopener target=_blank>here</a>. Although is mainly a cosmetic change, some themes provide enhancements like colouring tickets according to priority and they are really easy to manage. For example, to install the <a href=http://theill.com/stuff/redmine/ rel=noopener target=_blank>Basecamp</a> theme:<ul><li>Download application.css<li>Create required directories: mkdir -p redmine/public/themes/basecamp/stylesheets<li>Copy downloaded file: cp application.css redmine/public/themes/basecamp/stylesheets</ul><p>That’s it .. now restart your instance running Redmine and select the new basecamp theme from /settings<h2 id=install-redmine-plugins><a aria-label="Anchor link for: install-redmine-plugins" class="header-anchor no-hover-padding" href=#install-redmine-plugins><span aria-hidden=true class=link-icon></span></a> Install Redmine Plugins</h2><p>Redmine provides several plugins that enhance the capabilities of the tool. Amongst them you can find some nice ones like:<ul><li>Bots Filter: avoids bots from accessing certain areas of the application<li>Charts: adds some project based charts<li>Exception Handler: notifies admins when an exception occurs<li>Hudson: integrates Redmine and Hudson, allowing you to see Hudson reports<li>Status updates: allows users to say what are they doing, kind of Twitter per project.<li>Vote: allows users to vote on issues so you see which ones are important to them</ul><p>You can find these and many more in this <a href=http://www.redmine.org/projects/redmine/wiki/Plugin_List rel=noopener target=_blank>page</a> . To install a plugin, follow the instructions on the “Installation” section of its page. Then restart Redmine and you are good to go.<h2 id=connect-mylyn-to-redmine><a aria-label="Anchor link for: connect-mylyn-to-redmine" class="header-anchor no-hover-padding" href=#connect-mylyn-to-redmine><span aria-hidden=true class=link-icon></span></a> Connect Mylyn to Redmine</h2><p>If you use Mylyn (and you should!) use these <a href=http://www.redmine.org/projects/redmine/wiki/HowTo_Mylyn rel=noopener target=_blank>instructions</a> to connect it to your Redmine repository.</section><nav class="full-width article-navigation"><div><a aria-describedby=left_title aria-label=Next href=https://perevillega.com/posts/ubuntu-server-maintenance/><span class=arrow>←</span> Next</a><p aria-hidden=true id=left_title>Ubuntu Server Maintenance</div><div><a aria-describedby=right_title aria-label=Prev href=https://perevillega.com/posts/web-application-tools/>Prev <span class=arrow>→</span></a><p aria-hidden=true id=right_title>Web Application Tools</div></nav></article></main><script defer src=https://perevillega.com/js/mermaid.min.js></script><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://perevillega.com/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://perevillega.com/atom.xml rel=noopener target=_blank> <img alt=feed loading=lazy src=https://perevillega.com/social_icons/rss.svg title=feed> </a><li class=js><a class="nav-links no-hover-padding social" data-encoded-email=cHZpbGxlZ2ErYmxvZ0BhcmFjb24uY29t href=#><img alt=email loading=lazy src=https://perevillega.com/social_icons/email.svg title=email> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://github.com/pvillega target=_blank> <img alt=github loading=lazy src=https://perevillega.com/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://gitlab.com/pvillega target=_blank> <img alt=gitlab loading=lazy src=https://perevillega.com/social_icons/gitlab.svg title=gitlab> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://bsky.app/profile/perevillega.com target=_blank> <img alt=bluesky loading=lazy src=https://perevillega.com/social_icons/bluesky.svg title=bluesky> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://www.linkedin.com/in/perevillega/ target=_blank> <img alt=linkedin loading=lazy src=https://perevillega.com/social_icons/linkedin.svg title=linkedin> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://stackoverflow.com/users/116791/pere-villega target=_blank> <img alt="stack overflow" title="stack overflow" loading=lazy src=https://perevillega.com/social_icons/stack-overflow.svg> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://perevillega.com/sitemap.xml> sitemap </a></ul> </small></nav><div class=credits><small> Powered by <a href=https://www.getzola.org rel=noopener target=_blank>Zola</a> & <a href=https://github.com/welpo/tabi rel=noopener target=_blank>tabi</a> </small></div></section><script async src=https://perevillega.com/js/decodeMail.min.js></script><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer>